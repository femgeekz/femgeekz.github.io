---
layout: post
title: Getting Started With ANTLR:Basics
date: '2012-06-06T21:24:00.001+05:30'
author: Swathi Venkatachala
tags:
- Basics
- ANTLR
- getting started on ANTLR
modified_time: '2012-06-07T12:57:47.106+05:30'
blogger_id: tag:blogger.com,1999:blog-6187879032785791598.post-4878580907709527021
blogger_orig_url: http://femgeekz.blogspot.com/2012/06/getting-started-with-antlrbasics.html
comments: true
---

<div dir="ltr" style="text-align: left;" trbidi="on"><span class="Apple-style-span" style="color: #fff2cc; font-family: Verdana, sans-serif;"></span><br /><div style="line-height: 20px;"><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">Yeah! It's after a lapse of a month or so that there is a post in this blog! :)<br />Well, this post drives you towards the basics of ANTLR. Previously, we had learnt about setting up of ANTLR as an external tool.<br />RECAP! It's here: &nbsp;&nbsp;<a href="http://femgeekz.blogspot.in/2012/06/antlr-as-external-tool-in-eclipse-on.html">ANTLR External Tool</a><br />:)<br />So, here we go.... &nbsp;<br /><b>&nbsp;&nbsp;</b></span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><b>What is ANTLR?</b>• ANother Tool for Language Recognition, is a language tool that provides a framework for constructing recognizers, interpreters, compilers, and translators from grammatical descriptions containing actions.</span><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><b>&nbsp;&nbsp;</b></span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><b>What can be the target languages? &nbsp;</b></span><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">&nbsp;&nbsp;</span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">• Action Script,&nbsp;Ada&nbsp;&nbsp;</span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">• C<br />• C#; C#2<br />• C#3<br />• D<br />• Emacs ELisp<br />• Objective C<br />• Java<br />• Java Script<br />• Python<br />• Ruby<br />• Perl6<br />• Perl<br />• PHP<br />• Oberon<br />• Scala<br /><b>&nbsp;&nbsp;</b></span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><b>What does ANTLR support?</b>• Tree construction<br />• Error recovery<br />• Error handling<br />• Tree walking<br />• Translation<br /><b>&nbsp;&nbsp;</b></span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><b>What environment does it support? &nbsp;</b></span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">ANTLRWorks is the IDE for ANTLR. It is the graphical&nbsp;</span><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">grammar editor and debugger, written by Jean Bovet using Swing.<br /><b><br /></b></span></div><div style="font-size: 15px;"></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><b>What for ANTLR can be used? &nbsp;</b><br />• ""REAL"" programming languages&nbsp;&nbsp;</span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">• domain-specific languages [DSL]<br /><b>&nbsp;&nbsp;</b></span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><b>Who is using ANTLR?</b><br />• Programming languages :Boo, Groovy, Mantra, Nemerle, XRuby etc.&nbsp;&nbsp;</span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">• Other Tools: HIbernate, Intellij IDEA, Jazillian, JBoss Rules, Keynote(Apple), WebLogic(Oracle) etc.<b><br /></b></span></div><div style="font-size: 15px;"></div><div style="font-size: 15px;"></div><div style="font-size: 15px;"></div><div style="font-size: 15px;"></div><div style="font-size: 15px;"></div><div style="font-size: 15px;"></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">&nbsp;&nbsp;</span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><b>Where is that you can look for ANTLR?&nbsp;</b></span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">You &nbsp;can always follow here<a href="http://www.blogger.com/%20http://www.antlr.org%20" style="text-decoration: none;">&nbsp;http://www.antlr.org&nbsp;</a>• to download ANTLR and ANTLRWorks, which are free and open source</span></div><div style="font-size: 15px;"><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">• docs,articles,wiki,mailing list,examples....</span></div><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><span class="Apple-style-span" style="font-size: 15px;">&nbsp;You can catch everything here!</span><br /><br /><b>Row your Boat....</b></span><br /><div style="font-size: 15px;"></div></div><ul style="line-height: 1.4; list-style-image: initial; list-style-position: initial; list-style-type: disc; margin-bottom: 0.5em; margin-left: 0px; margin-right: 0px; margin-top: 0.5em; padding-bottom: 0px; padding-left: 2.5em; padding-right: 2.5em; padding-top: 0px; text-align: left;"><li style="border-bottom-style: none; border-color: initial; border-left-style: none; border-right-style: none; border-top-color: initial; border-top-style: none; border-width: initial; margin-bottom: 0.25em; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; text-indent: 0px;"><u><span style="font-family: Georgia, 'Times New Roman', serif;">Basic terms</span></u></li></ul><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">• <b>Lexer</b> : converts a stream of characters to a stream of tokens.<br />• <b>Parser</b> : processes of tokens, possibly creating AST<br />• <b>Abstract Syntax Tree(AST)</b>: an intermediate tree representation of the parsed input that is simpler to process than the stream of tokens. It can as well be processed multiple times.<br />• <b>Tree Parser</b>: It processes an AST<br />• <b>String Template</b>: a library that supports using templates with placeholders for outputting text &nbsp;&nbsp;</span><br /><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><br /></span><br /><ul style="line-height: 1.4; list-style-image: initial; list-style-position: initial; list-style-type: disc; margin-bottom: 0.5em; margin-left: 0px; margin-right: 0px; margin-top: 0.5em; padding-bottom: 0px; padding-left: 2.5em; padding-right: 2.5em; padding-top: 0px; text-align: left;"><li style="border-bottom-style: none; border-color: initial; border-left-style: none; border-right-style: none; border-top-color: initial; border-top-style: none; border-width: initial; margin-bottom: 0.25em; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; text-indent: 0px;"><u><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">General Steps</span></u></li></ul><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">• Write Grammar in one or more files<br />• Write string templates[optional]<br />• Debug your grammar with ANTLRWorks<br />• Generate classes from grammar<br />• Write an application that uses generated classes<br />• Feed the application text that conforms to the grammar<br /><b><br /></b></span><br /><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><b>A Bit Further....</b><br /></span><br /><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">Lets write a simple grammar which consists of<br />• Lexer<br />• Parser<br />Lexer: Breaks the input stream into tokens<br />Lets take the example of simple declaration type in C of the form "int a,b;" or "int a;" and same with float.</span><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">As we see we can write lexer as follows:</span><br /><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;"><br /></span><br /><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">//TestLexer.g<br /><i>grammar TestLexer; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</i></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace; font-size: x-small;"><i>ID&nbsp; : ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'0'..'9'|'_'|'.'|'a'..'z'|'A'..'Z')*; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; COMMA: ','; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</i></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace; font-size: x-small;"><i>SEMICOLON:';'; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</i></span><br /><i><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">DATATYPE: 'int' | 'float';</span></i><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace; font-size: x-small;"><i><br /></i></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace; font-size: x-small;"><i><br /></i></span><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">As we could see, these were the characters that were to be converted to tokens. &nbsp;&nbsp;</span><br /><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">So, now lets write some rules which processes these tokens generated and may it create a parse tree accordingly.</span><br /><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;"><br /></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><br /><span class="Apple-style-span" style="font-size: x-small;">//TestParser.g<br />grammar TestParser;<br />options {language : Java;}<br />decl:DATATYPE ID (',' ID)* ; </span>&nbsp; &nbsp; &nbsp;</span><br /><br /><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">Running ANTLR on the grammar just generates the lexer and parser,TestParser and TestLexer. To actually try the grammar on some input, we</span><br /><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">need a test rig with a main( ) method as follows:</span><br /><br /><span class="Apple-style-span" style="font-size: x-small;"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">// Test.java<br />import org.antlr.runtime.*;<br />public class Test {<br /><br />public static void main(String[] args) throws Exception {<br /><br />// Create an input character stream from standard in<br />ANTLRFileStream input = new ANTLRFileStream("input"); // give path to the file input<br /><br />// Create an ExprLexer that feeds from that stream<br />TestLexer lexer = new TestLexer(input);<br />// Create a stream of tokens fed by the lexer<br />CommonTokenStream tokens = new CommonTokenStream(lexer);<br />// Create a parser that feeds off the token stream<br />TestParser parser = new TestParser(tokens);<br />// Begin parsing at rule decl<br />parser.decl();<br />}</span><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">}</span></span><br /><br /><br />We shall see how to create<span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">&nbsp;an AST and walk over the tree in the next blog post...</span><br /><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif;">Happy learning....! :)</span><br /><span class="Apple-style-span" style="font-family: Georgia, 'Times New Roman', serif; font-size: x-small;"><br /></span><br /><br /><br /><br /><div style="color: #333333; font-size: 15px; line-height: 20px; text-align: left;"></div><span class="Apple-style-span" style="color: #fff2cc; font-family: Verdana, sans-serif;"></span></div>